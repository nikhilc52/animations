library(tidyverse)
library(gganimate)
library(ggplot2)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(zoo)
world <- ne_countries(scale = "medium", returnclass = "sf")
temperatures <- read_csv("temperatures.csv")
getwd()
setwd("/Users/nc7172/Documents/GitHub/animations")
library(tidyverse)
library(gganimate)
library(ggplot2)
library(sf)
library(rnaturalearth)
library(rnaturalearthdata)
library(zoo)
world <- ne_countries(scale = "medium", returnclass = "sf")
temperatures <- read_csv("temperatures.csv")
temperatures$Country[which(temperatures$Country == "United States")] <- "United States of America"
temperatures$Country[which(temperatures$Country == "Tanzania")] <- "United Republic of Tanzania"
temperatures$Country[which(temperatures$Country == "Congo (Democratic Republic Of The)")] <- "Democratic Republic of the Congo"
temperatures$Country[which(temperatures$Country == "Congo")] <- "Republic of the Congo"
temperatures$Country[which(temperatures$Country == "CÃ´te D'Ivoire")] <- "Ivory Coast"
world_temperatures <- left_join(world, temperatures, by=c("admin"="Country"))
world_temperatures$dt <- as.Date(world_temperatures$dt)
world_plot <- world_temperatures |>
filter(dt >= "2013-01-01")
world_plot <- world_plot[,names(world_temperatures) %in% c("admin", "dt", "AverageTemperature")]
animation <- world_plot |>
ggplot()+
geom_sf(aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
transition_time(dt)
animate(animation, fps=5, duration=5.8, height = 7,
width = 9, units = "in", res = 200)
animation <- world_plot |>
ggplot()+
geom_sf(aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {next_state}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animation <- world_plot |>
ggplot()+
geom_sf(aes(fill=AverageTemperature))+
geom_points()+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {next_state}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animation <-  ggplot()+
geom_sf(world_plot, aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {next_state}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animation <-  ggplot(world_plot)+
geom_sf(world_plot, aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {next_state}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animation <-  ggplot(world_plot)+
geom_sf(aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {next_state}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animate(animation, fps=5, duration=5.8, height = 7,
width = 9, units = "in", res = 200)
install.packages("gifski")
library(gifski)
animation <-  ggplot(world_plot)+
geom_sf(aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {frame_time}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animate(animation, fps=5, duration=5.8, height = 7,
width = 9, units = "in", res = 200)
install.packages("png")
library(png)
animation <-  ggplot(world_plot)+
geom_sf(aes(fill=AverageTemperature))+
scale_fill_viridis_c(option = "plasma")+
theme_minimal()+
labs(title="Average Surface Temperature Since 2013",
subtitle="Date: {frame_time}",
caption="Nikhil Chinchalkar for Princeton University | Berkley Earth | 2024",
color="Significance",
size="Magnitude")+
xlab('')+
ylab('')+
theme(plot.title = element_text(size = 22, hjust =0.5, face = "bold"),
plot.subtitle = element_text(size = 10, hjust =0.5, face = "bold"))+
transition_time(dt)
animate(animation, fps=5, duration=5.8, height = 7,
width = 9, units = "in", res = 200)
